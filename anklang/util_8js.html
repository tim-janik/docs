<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8"/>
  <title>ui/util.js file | Anklang 0.2.0.dev450 Anklang Programming Reference</title>
  <link href="favicon.svg" rel="icon" type="image/svg+xml"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="#cb4b16" name="theme-color"/>
  <link href="poxy/poxy.css" referrerpolicy="no-referrer" rel="stylesheet"/>
  <link href="poxystyle.css" referrerpolicy="no-referrer" rel="stylesheet"/>
  <script src="poxy/poxy.js"></script>
  <script>initialize_theme("light");</script>
  <meta content="Anklang 0.2.0.dev450" name="twitter:title"/>
  <meta content="Anklang 0.2.0.dev450" property="og:title"/>
  <meta content="Anklang 0.2.0.dev450" itemprop="name"/>
  <meta content="Tim Janik" name="author"/>
  <meta content="Tim Janik" property="article:author"/>
  <meta content="Anklang Programming Reference" name="description"/>
  <meta content="Anklang Programming Reference" name="twitter:description"/>
  <meta content="Anklang Programming Reference" property="og:description"/>
  <meta content="Anklang Programming Reference" itemprop="description"/>
  <meta content="telephone=no" name="format-detection"/>
  <meta content="Poxy v0.16.0" name="generator"/>
  <meta content="strict-origin-when-cross-origin" name="referrer"/>
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a class="m-col-t-8 m-col-m-none m-left-m" href="index.html" id="m-navbar-brand"><svg class="poxy-injected-svg" height="32" id="poxy-injected-svg-0" version="1.1" viewBox="0 0 64 64" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg"><metadata><rdf:rdf><cc:work><cc:license rdf:resource="MPL-2.0"></cc:license></cc:work></rdf:rdf></metadata><g><rect height="60" rx="1" ry="1" style="fill:#ffffff;fill-opacity:1;stroke:#000000;stroke-width:4;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="60" x="2" y="2"></rect><g><path d="M 19.078125,2 V 2.5 H 14 V 40.972656 C 13.97726,42.63277 15.372472,44 17,44 h 2.023438 L 19,61.994141 22.921875,62 22.945312,44 H 25 c 1.627528,0 3.02274,-1.36723 3,-3.027344 V 2.5 H 23 V 2.0058594 Z" style="fill:#000000;fill-opacity:1"></path><path d="m 41.078399,1.9999594 v 0.5 H 36.000274 V 40.972615 c -0.02274,1.660114 1.372472,3.027344 3,3.027344 h 2.023438 L 41.000272,61.9941 44.922147,62 44.945587,44 h 2.054688 c 1.627528,0 3.02274,-1.36723 3,-3.027344 V 2.4999594 h -5 V 2.0058188 Z" style="fill:#000000;fill-opacity:1"></path></g><rect height="21" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:4;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="60" x="2" y="2"></rect><g><circle cx="11.5" cy="11" r="5.5" style="fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:4.00000095;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle><circle cx="32" cy="11" r="5.5" style="fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:4.00000095;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle><circle cx="52.5" cy="11" r="5.5" style="fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:4.00000095;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"></circle></g></g></svg>Anklang 0.2.0.dev450 <span class="m-thin">Anklang Programming Reference</span></a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a class="m-doc-search-icon" accesskey="f" href="#search" onclick="return showSearch()" title="Search"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z" id="m-doc-search-icon-path"></path>
        </svg></a>
        <a href="#navigation" id="m-navbar-show" title="Show navigation"></a>
        <a href="#" id="m-navbar-hide" title="Hide navigation"></a>
      </div>
      <div class="m-col-t-12 m-show-m m-col-m-none m-right-m" id="m-navbar-collapse">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="files.html">Files</a></li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="4">
            <li><a href="annotated.html">Classes</a></li>
            <li><a class="poxy-icon repo github poxy-external" href="https://github.com/tim-janik/anklang" target="_blank" title="View on GitHub"><svg id="poxy-icon-repo" version="1.1" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg"><path d="M25,1.23a24.37,24.37,0,0,0-7.7,47.5C18.51,49,19,48.2,19,47.56s0-2.12,0-4.15c-6.78,1.47-8.21-3.27-8.21-3.27C9.61,37.33,8,36.58,8,36.58c-2.21-1.51.17-1.48.17-1.48a5.12,5.12,0,0,1,3.73,2.51c2.17,3.72,5.7,2.65,7.09,2a5.25,5.25,0,0,1,1.55-3.26c-5.41-.61-11.1-2.7-11.1-12A9.41,9.41,0,0,1,12,17.79a8.75,8.75,0,0,1,.24-6.45s2-.66,6.7,2.49a23.1,23.1,0,0,1,12.2,0c4.66-3.15,6.7-2.49,6.7-2.49A8.75,8.75,0,0,1,38,17.79a9.41,9.41,0,0,1,2.51,6.54c0,9.36-5.7,11.42-11.13,12a5.83,5.83,0,0,1,1.65,4.51c0,3.26,0,5.89,0,6.69,0,.65.44,1.41,1.68,1.17A24.38,24.38,0,0,0,25,1.23Z" fill="currentColor"></path></svg></a></li>
            <li><a class="poxy-icon theme" href="javascript:void(null);" id="poxy-theme-switch" onclick="toggle_theme(); return false;" role="button" title="Toggle dark and light themes"><svg id="poxy-theme-switch-img" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><circle cx="185.6708" cy="183.8122" fill="currentColor" r="65.625"></circle><path d="M185.6708,87.5622a13.1256,13.1256,0,0,0,13.125-13.125V52.5622a13.125,13.125,0,1,0-26.25,0v21.875A13.1257,13.1257,0,0,0,185.6708,87.5622Z" fill="currentColor"></path><path d="M99.051,115.7519a13.1236,13.1236,0,1,0,18.56-18.56L102.1442,81.726a13.1236,13.1236,0,0,0-18.5595,18.56Z" fill="currentColor"></path><path d="M89.4208,183.8122a13.1257,13.1257,0,0,0-13.125-13.125H54.4208a13.125,13.125,0,0,0,0,26.25h21.875A13.1256,13.1256,0,0,0,89.4208,183.8122Z" fill="currentColor"></path><path d="M99.051,251.8725,83.5847,267.3431a13.1236,13.1236,0,1,0,18.56,18.56l15.4663-15.4706a13.1236,13.1236,0,1,0-18.5595-18.56Z" fill="currentColor"></path><path d="M185.6708,280.0622a13.1258,13.1258,0,0,0-13.125,13.125v21.875a13.125,13.125,0,0,0,26.25,0v-21.875A13.1257,13.1257,0,0,0,185.6708,280.0622Z" fill="currentColor"></path><path d="M272.2907,251.8725a13.1236,13.1236,0,1,0-18.56,18.56l15.4663,15.4706a13.1236,13.1236,0,1,0,18.56-18.56Z" fill="currentColor"></path><path d="M330.0458,183.8122a13.1257,13.1257,0,0,0-13.125-13.125h-21.875a13.125,13.125,0,0,0,0,26.25h21.875A13.1256,13.1256,0,0,0,330.0458,183.8122Z" fill="currentColor"></path><path d="M263.0109,119.5971a13.0824,13.0824,0,0,0,9.28-3.8452l15.4663-15.4663a13.1236,13.1236,0,1,0-18.56-18.56L253.7312,97.1923a13.125,13.125,0,0,0,9.28,22.4048Z" fill="currentColor"></path><path d="M456.9379,401.6714a63.97,63.97,0,0,1-14.9963,7.2055c-19.6448,6.5283-41.8787,2.9566-58.1439-9.8523a68.9311,68.9311,0,0,1-10.835-10.8339c-12.8088-16.2663-16.3806-38.5-9.8523-58.1471a63.8444,63.8444,0,0,1,7.2077-14.9931,8.8036,8.8036,0,0,0-10.1172-13.3034,87.5188,87.5188,0,1,0,110.0372,110.04A8.8,8.8,0,0,0,456.9379,401.6714Z" fill="currentColor"></path></svg></a></li>
            <li class="m-show-m"><a class="m-doc-search-icon" href="#search" onclick="return showSearch()" title="Search"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path"></use>
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="dir_1788f8309b1a812dcb800a185471cf6c.html">ui</a>/</span>util.js <span class="m-thin">file</span>
        </h1>
<section class="level3" id="pointerdrag-class">
<h3>PointerDrag class</h3>
<dl>
<dt><em>class</em> <span data-4search="ui/util.js:PointerDrag;class" id="PointerDrag"><strong>PointerDrag</strong></span></dt>
<dd>
Meld all pointer drag handling functions into a single
<code>drag_event(event,MODE)</code> method.
</dd>
</dl>
</section>
<section class="level3" id="vue_mixins-class">
<h3>vue_mixins class</h3>
<dl>
<dt><em>class</em> <span data-4search="ui/util.js:vue_mixins;class" id="vue_mixins"><strong>vue_mixins</strong></span></dt>
<dd>
<p>…</p>
<dl>
<dt><span data-4search="ui/util.js:vuechildren;func" id="vuechildren"><strong><code>vuechildren</code></strong></span>
<code>()</code>   <code>[static]</code></dt>
<dd>
Provide <code>$children</code> (and <code>$vue_parent</code>) on every
component.
</dd>
<dt><span data-4search="ui/util.js:autodataattrs;func" id="autodataattrs"><strong><code>autodataattrs</code></strong></span>
<code>()</code>   <code>[static]</code></dt>
<dd>
Automatically add <code>$attrs['data-*']</code> to <code>$el</code>.
</dd>
<dt><span data-4search="ui/util.js:dom_updates;func" id="dom_updates"><strong><code>dom_updates</code></strong></span>
<code>()</code>   <code>[static]</code></dt>
<dd>
<p>Vue mixin to provide DOM handling hooks. This mixin adds instance
method callbacks to handle dynamic DOM changes such as drawing into a
<code>&lt;canvas/&gt;</code>. Reactive callback methods have their data
dependencies tracked, so future changes to data dependencies of reactive
methods will queue future updates. However reactive dependency tracking
only works for non-async methods.</p>
<ul>
<li>dom_create() - Called after <code>this.$el</code> has been
created</li>
<li>dom_change() - Called after <code>this.$el</code> has been
reassigned or changed. Note, may also be called for
<code>v-if="false"</code> cases.</li>
<li>dom_update() - Reactive callback method, called with a valid
<code>this.$el</code> and after Vue component updates. Dependency
changes result in <code>this.$forceUpdate()</code>.</li>
<li>dom_draw() - Reactive callback method, called during an animation
frame, requested via <code>dom_queue_draw()</code>. Dependency changes
result in <code>this.dom_queue_draw()</code>.</li>
<li>dom_queue_draw() - Cause <code>this.dom_draw()</code> to be called
during the next animation frame.</li>
<li>dom_destroy() - Callback method, called once <code>this.$el</code>
is removed.</li>
</ul>
</dd>
</dl>
</dd>
</dl>
</section>
<section class="level3" id="constants">
<h3>Constants</h3>
<dl>
<dt><span data-4search="ui/util.js:ResizeObserver;export" id="ResizeObserver"><strong><code>ResizeObserver</code></strong></span></dt>
<dd>
Work around FireFox 68 having ResizeObserver disabled
</dd>
<dt><span data-4search="ui/util.js:clone_descriptors;export" id="clone_descriptors"><strong><code>clone_descriptors</code></strong></span></dt>
<dd>
Copy PropertyDescriptors from source to target, optionally binding
handlers against closure.
</dd>
</dl>
</section>
<section class="level3" id="functions">
<h3>Functions</h3>
<dl>
<dt><span data-4search="ui/util.js:now;func" id="now"><strong><code>now</code></strong></span>
<code>()</code></dt>
<dd>
Retrieve current time in milliseconds.
</dd>
<dt><span data-4search="ui/util.js:frame_stamp;func" id="frame_stamp"><strong><code>frame_stamp</code></strong></span>
<code>()</code></dt>
<dd>
Retrieve a timestamp that is unique per (animation) frame.
</dd>
<dt><span data-4search="ui/util.js:debounce;func" id="debounce"><strong><code>debounce</code></strong></span>
<code>(</code><em>callback, options</em><code>)</code></dt>
<dd>
<p>Yield a wrapper function for <code>callback</code> that throttles
invocations. Regardless of the frequency of calls to the returned
wrapper, <code>callback</code> will only be called once per
<code>requestAnimationFrame()</code> cycle, or after
<code>milliseconds</code>. The return value of the wrapper functions is
the value of the last callback invocation. A <code>cancel()</code>
method can be called on the returned wrapper to cancel the next pending
<code>callback</code> invocation. Options:</p>
<ul>
<li><code>wait</code> - number of milliseconds to pass until
<code>callback</code> may be called.</li>
<li><code>restart</code> - always restart the timer once the wrapper is
called.</li>
<li><code>immediate</code> - immediately invoke <code>callback</code>
and then start the timeout period.</li>
</ul>
</dd>
<dt><span data-4search="ui/util.js:capture_event;func" id="capture_event"><strong><code>capture_event</code></strong></span>
<code>(</code><em>eventname, callback</em><code>)</code></dt>
<dd>
Process all events of type <code>eventname</code> with a single callback
exclusively
</dd>
<dt><span data-4search="ui/util.js:coalesced_events;func" id="coalesced_events"><strong><code>coalesced_events</code></strong></span>
<code>(</code><em>event</em><code>)</code></dt>
<dd>
Expand pointer events into a list of possibly coalesced events.
</dd>
<dt><span data-4search="ui/util.js:vue_component;func" id="vue_component"><strong><code>vue_component</code></strong></span>
<code>(</code><em>element</em><code>)</code></dt>
<dd>
Get Vue component handle from element or its ancestors
</dd>
<dt><span data-4search="ui/util.js:envue_object;func" id="envue_object"><strong><code>envue_object</code></strong></span>
<code>(</code><em>element</em><code>)</code></dt>
<dd>
Get Envue <code>$object</code> from element or its ancestors
</dd>
<dt><span data-4search="ui/util.js:drag_event;func" id="drag_event"><strong><code>drag_event</code></strong></span>
<code>(</code><em>event</em><code>)</code></dt>
<dd>
Start <code>drag_event (event)</code> handling on a Vue component's
element, use <code>@pointerdown="drag_event"</code>
</dd>
<dt><span data-4search="ui/util.js:unrequest_pointer_lock;func" id="unrequest_pointer_lock"><strong><code>unrequest_pointer_lock</code></strong></span>
<code>(</code><em>element</em><code>)</code></dt>
<dd>
Clear (pending) pointer locks Clear an existing pointer lock on
<code>element</code> if any and ensure it does not get a pointer lock
granted unless request_pointer_lock() is called on it again.
</dd>
<dt><span data-4search="ui/util.js:has_pointer_lock;func" id="has_pointer_lock"><strong><code>has_pointer_lock</code></strong></span>
<code>(</code><em>element</em><code>)</code></dt>
<dd>
<p>Check if <code>element</code> has a (pending) pointer lock
Return:</p>
<ul>
<li>2- if <code>element</code> has the pointer lock;</li>
<li>1- if the pointer lock is pending;</li>
<li>0- otherwise.</li>
</ul>
</dd>
<dt><span data-4search="ui/util.js:request_pointer_lock;func" id="request_pointer_lock"><strong><code>request_pointer_lock</code></strong></span>
<code>(</code><em>element</em><code>)</code></dt>
<dd>
Request a pointer lock on <code>element</code> and track its state Use
this function to maintain pointer locks to avoid stuck locks that can
get granted <em>after</em> exitPointerLock() has been called.
</dd>
<dt><span data-4search="ui/util.js:adopt_style;func" id="adopt_style"><strong><code>adopt_style</code></strong></span>
<code>(</code><em>element, csstext,
stylesheet_name</em><code>)</code></dt>
<dd>
Ensure the root node of <code>element</code> contains a
<code>csstext</code> (replaceable via <code>stylesheet_name</code>)
</dd>
<dt><span data-4search="ui/util.js:add_style_sheet;func" id="add_style_sheet"><strong><code>add_style_sheet</code></strong></span>
<code>(</code><em>element, url</em><code>)</code></dt>
<dd>
Ensure the root node of <code>element</code> has a <code>url</code>
stylesheet link.
</dd>
<dt><span data-4search="ui/util.js:vm_scope_selector;func" id="vm_scope_selector"><strong><code>vm_scope_selector</code></strong></span>
<code>(</code><em>vm</em><code>)</code></dt>
<dd>
Retrieve CSS scope selector for vm_scope_style()
</dd>
<dt><span data-4search="ui/util.js:vm_scope_style;func" id="vm_scope_style"><strong><code>vm_scope_style</code></strong></span>
<code>(</code><em>vm, css</em><code>)</code></dt>
<dd>
Attach <code>css</code> to Vue instance <code>vm</code>, use
vm_scope_selector() for the <code>vm</code> CSS scope
</dd>
<dt><span data-4search="ui/util.js:assign_forin;func" id="assign_forin"><strong><code>assign_forin</code></strong></span>
<code>(</code><em>target, source</em><code>)</code></dt>
<dd>
Loop over all properties in <code>source</code> and assign to `target
</dd>
<dt><span data-4search="ui/util.js:assign_forof;func" id="assign_forof"><strong><code>assign_forof</code></strong></span>
<code>(</code><em>target, source</em><code>)</code></dt>
<dd>
Loop over all elements of <code>source</code> and assign to `target
</dd>
<dt><span data-4search="ui/util.js:array_remove;func" id="array_remove"><strong><code>array_remove</code></strong></span>
<code>(</code><em>array, item</em><code>)</code></dt>
<dd>
Remove element <code>item</code> from <code>array</code> if present via
<code>indexOf</code>
</dd>
<dt><span data-4search="ui/util.js:array_index_equals;func" id="array_index_equals"><strong><code>array_index_equals</code></strong></span>
<code>(</code><em>array, item</em><code>)</code></dt>
<dd>
Find <code>array</code> index of element that equals <code>item</code>
</dd>
<dt><span data-4search="ui/util.js:map_from_kvpairs;func" id="map_from_kvpairs"><strong><code>map_from_kvpairs</code></strong></span>
<code>(</code><em>kvarray</em><code>)</code></dt>
<dd>
Generate map by splitting the key=value pairs in <code>kvarray</code>
</dd>
<dt><span data-4search="ui/util.js:range;func" id="range"><strong><code>range</code></strong></span>
<code>(</code><em>bound, end, step</em><code>)</code></dt>
<dd>
Generate integers [0..<code>bound</code>[ if one arg is given or
[<code>bound</code>..<code>end</code>[ by incrementing
<code>step</code>.
</dd>
<dt><span data-4search="ui/util.js:freeze_deep;func" id="freeze_deep"><strong><code>freeze_deep</code></strong></span>
<code>(</code><em>object</em><code>)</code></dt>
<dd>
Freeze object and its properties
</dd>
<dt><span data-4search="ui/util.js:copy_deep;func" id="copy_deep"><strong><code>copy_deep</code></strong></span>
<code>(</code><em>src</em><code>)</code></dt>
<dd>
Create a new object that has the same properties and Array values as
<code>src</code>
</dd>
<dt><span data-4search="ui/util.js:equals_recursively;func" id="equals_recursively"><strong><code>equals_recursively</code></strong></span>
<code>(</code><em>a, b</em><code>)</code></dt>
<dd>
Check if <code>a == b</code>, recursively if the arguments are of type
Array or Object
</dd>
<dt><span data-4search="ui/util.js:clamp;func" id="clamp"><strong><code>clamp</code></strong></span>
<code>(</code><em>x, min, max</em><code>)</code></dt>
<dd>
Return <span class="citation" data-cites="a">@a</span> x clamped into
<span class="citation" data-cites="a">@a</span> min and <span class="citation" data-cites="a">@a</span> max.
</dd>
<dt><span data-4search="ui/util.js:fwdprovide;func" id="fwdprovide"><strong><code>fwdprovide</code></strong></span>
<code>(</code><em>injectname, keys</em><code>)</code></dt>
<dd>
Create a Vue component provide() function that forwards selected
properties.
</dd>
<dt><span data-4search="ui/util.js:hyphenate;func" id="hyphenate"><strong><code>hyphenate</code></strong></span>
<code>(</code><em>string</em><code>)</code></dt>
<dd>
Generate a kebab-case ('two-words') identifier from a camelCase
('twoWords') identifier
</dd>
<dt><span data-4search="ui/util.js:weakid;func" id="weakid"><strong><code>weakid</code></strong></span>
<code>(</code><em>object</em><code>)</code></dt>
<dd>
Fetch a unique id for any object.
</dd>
<dt><span data-4search="ui/util.js:weakid_lookup;func" id="weakid_lookup"><strong><code>weakid_lookup</code></strong></span>
<code>(</code><em>id</em><code>)</code></dt>
<dd>
Find an object from its unique id.
</dd>
<dt><span data-4search="ui/util.js:uuname;func" id="uuname"><strong><code>uuname</code></strong></span>
<code>(</code><em>object</em><code>)</code></dt>
<dd>
Get a universally unique name for any object.
</dd>
<dt><span data-4search="ui/util.js:join_classes;func" id="join_classes"><strong><code>join_classes</code></strong></span>
<code>(</code><em>args</em><code>)</code></dt>
<dd>
Join strings and arrays of class lists from <code>args</code>.
</dd>
<dt><span data-4search="ui/util.js:object_zip;func" id="object_zip"><strong><code>object_zip</code></strong></span>
<code>(</code><em>obj, keys, values</em><code>)</code></dt>
<dd>
Assign <code>obj[k] = v</code> for all
<code>k of keys, v of values</code>.
</dd>
<dt><span data-4search="ui/util.js:object_await_values;func" id="object_await_values"><strong><code>object_await_values</code></strong></span>
<code>(</code><em>obj</em><code>)</code></dt>
<dd>
Await and reassign all object fields.
</dd>
<dt><span data-4search="ui/util.js:extend_property;func" id="extend_property"><strong><code>extend_property</code></strong></span>
<code>(</code><em>prop, disconnector, augment</em><code>)</code></dt>
<dd>
Extend Ase.Property objects with cached attributs. Note, for automatic
<code>.value_</code> updates, a <code>disconnector</code> function must
be provided as second argument, to handle disconnection of property
change notifications once the property is not needed anymore.
</dd>
<dt><span data-4search="ui/util.js:promise_state;func" id="promise_state"><strong><code>promise_state</code></strong></span>
<code>(</code><em>p</em><code>)</code></dt>
<dd>
Extract the promise <code>p</code> state as one of: 'pending',
'fulfilled', 'rejected'
</dd>
<dt><span data-4search="ui/util.js:compile_expression;func" id="compile_expression"><strong><code>compile_expression</code></strong></span>
<code>(</code><em>expression, context</em><code>)</code></dt>
<dd>
Turn a JS <code>$event</code> handler expression into a function. This
yields a factory function that binds the scope to create an expression
handler.
</dd>
<dt><span data-4search="ui/util.js:VueifyObject;func" id="VueifyObject"><strong><code>VueifyObject</code></strong></span>
<code>(</code><em>object, vue_options</em><code>)</code></dt>
<dd>
VueifyObject - turn a regular object into a Vue instance. The
<em>object</em> passed in is used as the Vue <code>data</code> object.
Properties with a getter (and possibly setter) are turned into Vue
<code>computed</code> properties, methods are carried over as
<code>methods</code> on the Vue() instance.
</dd>
<dt><span data-4search="ui/util.js:fnv1a_hash;func" id="fnv1a_hash"><strong><code>fnv1a_hash</code></strong></span>
<code>(</code><em>str</em><code>)</code></dt>
<dd>
Produce hash code from a String, using an FNV-1a variant.
</dd>
<dt><span data-4search="ui/util.js:split_comma;func" id="split_comma"><strong><code>split_comma</code></strong></span>
<code>(</code><em>str</em><code>)</code></dt>
<dd>
Split a string when encountering a comma, while preserving quoted or
parenthesized segments.
</dd>
<dt><span data-4search="ui/util.js:escape_html;func" id="escape_html"><strong><code>escape_html</code></strong></span>
<code>(</code><em>unsafe</em><code>)</code></dt>
<dd>
Properly escape test into <code>&amp;amp;</code> and related sequences.
</dd>
<dt><span data-4search="ui/util.js:parse_hex_color;func" id="parse_hex_color"><strong><code>parse_hex_color</code></strong></span>
<code>(</code><em>colorstr</em><code>)</code></dt>
<dd>
Parse hexadecimal CSS color with 3 or 6 digits into [ R, G, B ].
</dd>
<dt><span data-4search="ui/util.js:parse_hex_luminosity;func" id="parse_hex_luminosity"><strong><code>parse_hex_luminosity</code></strong></span>
<code>(</code><em>colorstr</em><code>)</code></dt>
<dd>
Parse hexadecimal CSS color into luminosity.
</dd>
<dt><span data-4search="ui/util.js:parse_hex_brightness;func" id="parse_hex_brightness"><strong><code>parse_hex_brightness</code></strong></span>
<code>(</code><em>colorstr</em><code>)</code></dt>
<dd>
Parse hexadecimal CSS color into brightness.
</dd>
<dt><span data-4search="ui/util.js:parse_hex_pgrey;func" id="parse_hex_pgrey"><strong><code>parse_hex_pgrey</code></strong></span>
<code>(</code><em>colorstr</em><code>)</code></dt>
<dd>
Parse hexadecimal CSS color into perception corrected grey.
</dd>
<dt><span data-4search="ui/util.js:parse_hex_average;func" id="parse_hex_average"><strong><code>parse_hex_average</code></strong></span>
<code>(</code><em>colorstr</em><code>)</code></dt>
<dd>
Parse hexadecimal CSS color into average grey.
</dd>
<dt><span data-4search="ui/util.js:parse_colors;func" id="parse_colors"><strong><code>parse_colors</code></strong></span>
<code>(</code><em>colorstr</em><code>)</code></dt>
<dd>
Parse CSS colors (via invisible DOM element) and yield an array of rgba
tuples.
</dd>
<dt><span data-4search="ui/util.js:compute_style_properties;func" id="compute_style_properties"><strong><code>compute_style_properties</code></strong></span>
<code>(</code><em>el, obj</em><code>)</code></dt>
<dd>
Retrieve a new object with the properties of <code>obj</code> resolved
against the style of <code>el</code>
</dd>
<dt><span data-4search="ui/util.js:inside_display_none;func" id="inside_display_none"><strong><code>inside_display_none</code></strong></span>
<code>(</code><em>element</em><code>)</code></dt>
<dd>
Check if <code>element</code> or any parentElement has
<code>display:none</code>
</dd>
<dt><span data-4search="ui/util.js:is_displayed;func" id="is_displayed"><strong><code>is_displayed</code></strong></span>
<code>(</code><em>element</em><code>)</code></dt>
<dd>
Check if <code>element</code> is displayed (has width/height assigned)
</dd>
<dt><span data-4search="ui/util.js:wheel_delta;func" id="wheel_delta"><strong><code>wheel_delta</code></strong></span>
<code>(</code><em>ev</em><code>)</code></dt>
<dd>
Retrieve normalized scroll wheel event delta in CSS pixels (across
Browsers) This returns an object <code>{x,y}</code> with negative values
pointing LEFT/UP and positive values RIGHT/DOWN respectively. For zoom
step interpretation, the x/y pixel values should be reduced via
<code>Math.sign()</code>. For scales the pixel values might feel more
natural, because browsers sometimes increase the number of events with
increasing wheel distance, in other cases values are accumulated so
fewer events with larger deltas are sent instead.
</dd>
<dt><span data-4search="ui/util.js:wheel2scrollbars;func" id="wheel2scrollbars"><strong><code>wheel2scrollbars</code></strong></span>
<code>(</code><em>event, refs, scrollbars</em><code>)</code></dt>
<dd>
Use deltas from <code>event</code> to call scrollBy() on
<code>refs[scrollbars...]</code>.
</dd>
<dt><span data-4search="ui/util.js:setup_shield_element;func" id="setup_shield_element"><strong><code>setup_shield_element</code></strong></span>
<code>(</code><em>shield, containee, closer,
capture_escape</em><code>)</code></dt>
<dd>
Setup Element shield for a modal containee. Capture focus movements
inside <code>containee</code>, call <code>closer(event)</code> for
pointer clicks on <code>shield</code> or when <code>ESCAPE</code> is
pressed.
</dd>
<dt><span data-4search="ui/util.js:fullstop;func" id="fullstop"><strong><code>fullstop</code></strong></span>
<code>(</code><em>event</em><code>)</code></dt>
<dd>
Stop (immediate) propagation and prevent default handler for an event.
</dd>
<dt><span data-4search="ui/util.js:swallow_event;func" id="swallow_event"><strong><code>swallow_event</code></strong></span>
<code>(</code><em>type, timeout</em><code>)</code></dt>
<dd>
Use capturing to swallow any <code>type</code> events until
<code>timeout</code> has passed
</dd>
<dt><span data-4search="ui/util.js:prevent_event;func" id="prevent_event"><strong><code>prevent_event</code></strong></span>
<code>(</code><em>event_or_null</em><code>)</code></dt>
<dd>
Prevent default or any propagation for a possible event.
</dd>
<dt><span data-4search="ui/util.js:dialog_backdrop_mousedown;func" id="dialog_backdrop_mousedown"><strong><code>dialog_backdrop_mousedown</code></strong></span>
<code>(</code><em>ev</em><code>)</code></dt>
<dd>
Close dialog on backdrop clicks via hiding at mousedown
</dd>
<dt><span data-4search="ui/util.js:dialog_backdrop_mouseup;func" id="dialog_backdrop_mouseup"><strong><code>dialog_backdrop_mouseup</code></strong></span>
<code>(</code><em>ev</em><code>)</code></dt>
<dd>
Close dialog on backdrop clicks via actual closing at mouseup
</dd>
<dt><span data-4search="ui/util.js:dialog_backdrop_autoclose;func" id="dialog_backdrop_autoclose"><strong><code>dialog_backdrop_autoclose</code></strong></span>
<code>(</code><em>dialog, install_or_remove</em><code>)</code></dt>
<dd>
Install handlers to close a dialog on backdrop clicks.
</dd>
<dt><span data-4search="ui/util.js:popup_position;func" id="popup_position"><strong><code>popup_position</code></strong></span>
<code>(</code><em>element, opts</em><code>)</code></dt>
<dd>
Determine position for a popup
</dd>
<dt><span data-4search="ui/util.js:resize_canvas;func" id="resize_canvas"><strong><code>resize_canvas</code></strong></span>
<code>(</code><em>canvas, csswidth, cssheight,
fill_style</em><code>)</code></dt>
<dd>
Resize canvas display size (CSS size) and resize backing store to match
hardware pixels
</dd>
<dt><span data-4search="ui/util.js:dash_xto;func" id="dash_xto"><strong><code>dash_xto</code></strong></span>
<code>(</code><em>ctx, x, y, w, d</em><code>)</code></dt>
<dd>
Draw a horizontal line from (x,y) of width <code>w</code> with dashes
<code>d</code>
</dd>
<dt><span data-4search="ui/util.js:hstippleRect;func" id="hstippleRect"><strong><code>hstippleRect</code></strong></span>
<code>(</code><em>ctx, x, y, width, height,
stipple</em><code>)</code></dt>
<dd>
Draw a horizontal rect <code>(x,y,width,height)</code> with pixel gaps
of width <code>stipple</code>
</dd>
<dt><span data-4search="ui/util.js:roundRect;func" id="roundRect"><strong><code>roundRect</code></strong></span>
<code>(</code><em>ctx, x, y, width, height, radius, fill,
stroke</em><code>)</code></dt>
<dd>
Fill and stroke a canvas rectangle with rounded corners.
</dd>
<dt><span data-4search="ui/util.js:gradient_apply_stops;func" id="gradient_apply_stops"><strong><code>gradient_apply_stops</code></strong></span>
<code>(</code><em>grad, stoparray</em><code>)</code></dt>
<dd>
Add color stops from <code>stoparray</code> to <code>grad</code>,
<code>stoparray</code> is an array: [(offset,color)...]
</dd>
<dt><span data-4search="ui/util.js:linear_gradient_from;func" id="linear_gradient_from"><strong><code>linear_gradient_from</code></strong></span>
<code>(</code><em>ctx, stoparray, x1, y1, x2, y2</em><code>)</code></dt>
<dd>
Create a new linear gradient at (x1,y1,x2,y2) with color stops
<code>stoparray</code>
</dd>
<dt><span data-4search="ui/util.js:canvas_ink_vspan;func" id="canvas_ink_vspan"><strong><code>canvas_ink_vspan</code></strong></span>
<code>(</code><em>font_style, textish</em><code>)</code></dt>
<dd>
Measure ink span of a canvas text string or an array
</dd>
<dt><span data-4search="ui/util.js:midi_label;func" id="midi_label"><strong><code>midi_label</code></strong></span>
<code>(</code><em>numish</em><code>)</code></dt>
<dd>
Retrieve the 'C-1' .. 'G8' label for midi note numbers
</dd>
<dt><span data-4search="ui/util.js:align8;func" id="align8"><strong><code>align8</code></strong></span>
<code>(</code><em>int</em><code>)</code></dt>
<dd>
Align integer value to 8.
</dd>
<dt><span data-4search="ui/util.js:telemetry_subscribe;func" id="telemetry_subscribe"><strong><code>telemetry_subscribe</code></strong></span>
<code>(</code><em>fun, telemetryfields</em><code>)</code></dt>
<dd>
Call <code>fun</code> for telemtry updates, returns unsubscribe handler.
</dd>
<dt><span data-4search="ui/util.js:telemetry_unsubscribe;func" id="telemetry_unsubscribe"><strong><code>telemetry_unsubscribe</code></strong></span>
<code>(</code><em>telemetryobject</em><code>)</code></dt>
<dd>
Call <code>fun</code> for telemtry updates, returns unsubscribe handler.
</dd>
<dt><span data-4search="ui/util.js:in_keyboard_click;func" id="in_keyboard_click"><strong><code>in_keyboard_click</code></strong></span>
<code>()</code></dt>
<dd>
Check if the current click event originates from keyboard activation.
</dd>
<dt><span data-4search="ui/util.js:keyboard_click_event;func" id="keyboard_click_event"><strong><code>keyboard_click_event</code></strong></span>
<code>(</code><em>fallback</em><code>)</code></dt>
<dd>
Retrieve event that triggers keyboard_click().
</dd>
<dt><span data-4search="ui/util.js:keyboard_click;func" id="keyboard_click"><strong><code>keyboard_click</code></strong></span>
<code>(</code><em>element, event, callclick</em><code>)</code></dt>
<dd>
Trigger element click via keyboard.
</dd>
<dt><span data-4search="ui/util.js:in_array;func" id="in_array"><strong><code>in_array</code></strong></span>
<code>(</code><em>element, array</em><code>)</code></dt>
<dd>
Check whether <code>element</code> is contained in <code>array</code>
</dd>
<dt><span data-4search="ui/util.js:matches_forof;func" id="matches_forof"><strong><code>matches_forof</code></strong></span>
<code>(</code><em>element, iteratable</em><code>)</code></dt>
<dd>
Check whether <code>element</code> is found during
<code>for (... of iteratable)</code>
</dd>
<dt><span data-4search="ui/util.js:element_text;func" id="element_text"><strong><code>element_text</code></strong></span>
<code>(</code><em>element, filter</em><code>)</code></dt>
<dd>
Extract filtered text nodes from Element.
</dd>
<dt><span data-4search="ui/util.js:clone_menu_icon;func" id="clone_menu_icon"><strong><code>clone_menu_icon</code></strong></span>
<code>(</code><em>menu, uri, title</em><code>)</code></dt>
<dd>
Clone a menuitem icon via its <code>uri</code>.
</dd>
<dt><span data-4search="ui/util.js:keyboard_map_name;func" id="keyboard_map_name"><strong><code>keyboard_map_name</code></strong></span>
<code>(</code><em>keyname</em><code>)</code></dt>
<dd>
Retrieve user-printable name for a keyboard button, useful to describe
KeyboardEvent.code.
</dd>
<dt><span data-4search="ui/util.js:has_ancestor;func" id="has_ancestor"><strong><code>has_ancestor</code></strong></span>
<code>(</code><em>node, ancestor,
escape_shadowdom</em><code>)</code></dt>
<dd>
Check if <code>ancestor</code> is an ancestor of <code>node</code>,
maybe including shadowRoot elements.
</dd>
<dt><span data-4search="ui/util.js:closest;func" id="closest"><strong><code>closest</code></strong></span>
<code>(</code><em>element, selector</em><code>)</code></dt>
<dd>
Find the closest element or parent matching <code>selector</code>,
traversing shadow DOMs.
</dd>
<dt><span data-4search="ui/util.js:root_ancestor;func" id="root_ancestor"><strong><code>root_ancestor</code></strong></span>
<code>(</code><em>element</em><code>)</code></dt>
<dd>
Retrieve root ancestor of <code>element</code>
</dd>
<dt><span data-4search="ui/util.js:find_element_from_point;func" id="find_element_from_point"><strong><code>find_element_from_point</code></strong></span>
<code>(</code><em>root, x, y, predicate, visited</em><code>)</code></dt>
<dd>
Find an element at <code>(x,y)</code> for which
<code>predicate (element)</code> is true.
</dd>
<dt><span data-4search="ui/util.js:create_note;func" id="create_note"><strong><code>create_note</code></strong></span>
<code>(</code><em>text, timeout</em><code>)</code></dt>
<dd>
Show a notification popup, with adequate default timeout
</dd>
<dt><span data-4search="ui/util.js:markdown_to_html;func" id="markdown_to_html"><strong><code>markdown_to_html</code></strong></span>
<code>(</code><em>element, markdown_text</em><code>)</code></dt>
<dd>
Generate <code>element.innerHTML</code> from <code>markdown_text</code>
</dd>
<dt><span data-4search="ui/util.js:assign_async_cleanup;func" id="assign_async_cleanup"><strong><code>assign_async_cleanup</code></strong></span>
<code>(</code><em>map, key, cleaner</em><code>)</code></dt>
<dd>
Assign <code>map[key] = cleaner</code>, while awaiting and calling any
previously existing cleanup function
</dd>
<dt><span data-4search="ui/util.js:observable_force_update;func" id="observable_force_update"><strong><code>observable_force_update</code></strong></span>
<code>()</code></dt>
<dd>
Method to be added to a <code>observable_from_getters()</code> result to
force updates.
</dd>
<dt><span data-4search="ui/util.js:observable_from_getters;func" id="observable_from_getters"><strong><code>observable_from_getters</code></strong></span>
<code>(</code><em>tmpl, predicate</em><code>)</code></dt>
<dd>
<p>Create a reactive dict from the fields in <code>tmpl</code> with
async callbacks.</p>
<p>Once the resolved result from <code>predicate()</code> changes and
becomes true-ish, the <code>getter()</code> of each field in
<code>tmpl</code> is called, resolved and assigned to the corresponding
field in the observable binding returned from this function. Optionally,
fields may provide a <code>notify</code> setup handler to install a
notification callback that re-invokes the <code>getter</code>. A
destructor can be returned from <code>notify()</code> once resolved,
that is executed during cleanup phases. The <code>default</code> of each
field in <code>tmpl</code> may provide an initial value before
<code>getter</code> is called the first time and in case
<code>predicate()</code> becomes false-ish. The first argument to
<code>getter()</code> is a function that can be used to register cleanup
code for the getter result.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb1-1"><a aria-hidden="true" href="#cb1-1" tabindex="-1"></a><span class="kw">const</span> data <span class="op">=</span> {</span>
<span id="cb1-2"><a aria-hidden="true" href="#cb1-2" tabindex="-1"></a>  <span class="dt">val</span><span class="op">:</span> { <span class="dt">getter</span><span class="op">:</span> c <span class="kw">=&gt;</span> <span class="fu">async_fetch</span>()<span class="op">,</span> <span class="dt">notify</span><span class="op">:</span> n <span class="kw">=&gt;</span> <span class="fu">add_listener</span> (n)<span class="op">,</span> }<span class="op">,</span></span>
<span id="cb1-3"><a aria-hidden="true" href="#cb1-3" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb1-4"><a aria-hidden="true" href="#cb1-4" tabindex="-1"></a>dict <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="fu">observable_from_getters</span> (data<span class="op">,</span> () <span class="kw">=&gt;</span> <span class="kw">this</span><span class="op">.</span><span class="fu">predicate</span>())<span class="op">;</span></span>
<span id="cb1-5"><a aria-hidden="true" href="#cb1-5" tabindex="-1"></a><span class="co">// use dict.val</span></span></code></pre></div>
<p>When the <code>n()</code> callback is called, a new <em>getter</em>
call is scheduled. A handler can be registered with
<code>c (cleanup);</code> to cleanup resources left over from an
<code>async_fetch()</code> call.</p>
</dd>
<dt><span data-4search="ui/util.js:tmplstr;func" id="tmplstr"><strong><code>tmplstr</code></strong></span>
<code>(</code><em>a, e</em><code>)</code></dt>
<dd>
Join template literal arguments into a String
</dd>
<dt><span data-4search="ui/util.js:strpad;func" id="strpad"><strong><code>strpad</code></strong></span>
<code>(</code><em>string, len, fill</em><code>)</code></dt>
<dd>
Pad <code>string</code> with <code>fill</code> until its length is
<code>len</code>
</dd>
<dt><span data-4search="ui/util.js:lrstrip;func" id="lrstrip"><strong><code>lrstrip</code></strong></span>
<code>(</code><em>str</em><code>)</code></dt>
<dd>
Strip whitespace from start and end of string.
</dd>
<dt><span data-4search="ui/util.js:collect_text_content;func" id="collect_text_content"><strong><code>collect_text_content</code></strong></span>
<code>(</code><em>node_or_array</em><code>)</code></dt>
<dd>
Gather text content from <code>node_or_array</code>.
</dd>
<dt><span data-4search="ui/util.js:hash53;func" id="hash53"><strong><code>hash53</code></strong></span>
<code>(</code><em>key, seed</em><code>)</code></dt>
<dd>
Generate 53-Bit hash from <code>key</code>.
</dd>
<dt><span data-4search="ui/util.js:add_destroy_callback;func" id="add_destroy_callback"><strong><code>add_destroy_callback</code></strong></span>
<code>(</code><em>callback</em><code>)</code></dt>
<dd>
Add a <code>callback</code> to <code>this</code> to be called from
<code>call_destroy_callbacks()</code>.
</dd>
<dt><span data-4search="ui/util.js:del_destroy_callback;func" id="del_destroy_callback"><strong><code>del_destroy_callback</code></strong></span>
<code>(</code><em>callback</em><code>)</code></dt>
<dd>
Remove a <code>callback</code> from <code>this</code>, previously added
via <code>add_destroy_callback()</code>.
</dd>
<dt><span data-4search="ui/util.js:call_destroy_callbacks;func" id="call_destroy_callbacks"><strong><code>call_destroy_callbacks</code></strong></span>
<code>()</code></dt>
<dd>
Call destroy callbacks of <code>this</code>, clears the callback list.
</dd>
</dl>
</section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">…</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input autocomplete="off" autofocus="autofocus" disabled="disabled" id="search-input" name="q" placeholder="Loading …" spellcheck="false" type="search"/>
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div class="m-text m-dim m-text-center" id="search-help">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">↓</span>
            / <span class="m-label m-dim">↑</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div class="m-text m-warning m-text-center" id="search-notfound">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v2.js"></script><script>install_mcss_search_shim();</script>
<script async="async" src="searchdata-v2.js"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        
<a class="poxy-external" href="https://github.com/tim-janik/anklang" target="_blank">GitHub</a>
• <a class="poxy-external" href="https://github.com/tim-janik/anklang/issues" target="_blank">Report an issue</a>
• <a class="poxy-external" href="https://mozilla.org/MPL/2.0" target="_blank">License</a>
• <a download="" href="Anklang_0.2.0.dev450.tagfile.xml" target="_blank" type="text/xml">Doxygen tagfile</a>
<br/><br/>
Site generated using <a class="poxy-external" href="https://github.com/marzer/poxy/" target="_blank">Poxy</a>

      </div>
    </div>
  </div>
</nav></footer>


</body></html>